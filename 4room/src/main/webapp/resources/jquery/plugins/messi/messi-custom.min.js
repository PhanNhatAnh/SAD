/**!
 * MessiJS - A easy to use message plugin for jQuery
 * @version 2.0.0
 * @link https://MessiJS.github.io/
 * @license MIT
 * @copyright Copyright 2012-13 Marcos Esper√≥n
 * @copyright Copyright 2014 Kevin Gustavson
 * 
 * @edited: by Allen Nguyen 
 */
(function(){"use strict";function e(t,n){var r;var i=this;i.options=jQuery.extend({},e.prototype.options,n||{});i.messi=jQuery(i.template);i.setContent(t);if(i.options.title===null){jQuery(".messi-titlebox",i.messi).remove()}else{jQuery(".messi-title",i.messi).append(i.options.title);if(i.options.buttons.length===0&&!i.options.autoclose){r=jQuery('<span class="messi-closebtn"></span>');r.bind("click",function(){i.hide()});jQuery(".messi-titlebox",this.messi).prepend(r)}if(i.options.titleClass!==null){jQuery(".messi-titlebox",this.messi).addClass(i.options.titleClass)}}if(i.options.width!==null){jQuery(".messi-box",i.messi).css("width",i.options.width)}if(i.options.buttons.length>0){for(var s=0;s<i.options.buttons.length;s++){var o=jQuery("<div>",{"class":"messi-btnbox"}).css("width",parseInt(100/i.options.buttons.length,10)+"%");var u=i.options.buttons[s]["class"]?i.options.buttons[s]["class"]:"";var a=jQuery("<button>",{href:"#","class":"btn "+u,value:i.options.buttons[s].val,click:function(){var e=$(this).val();if(typeof i.options.callback==="function"){if(i.options.callback(e)===false){return this}}i.hide()}}).text(i.options.buttons[s].label);o.append(a);jQuery(".messi-actions",this.messi).append(o)}}else{jQuery(".messi-footbox",this.messi).remove()}if(i.options.buttons.length===0&&i.options.title===null&&!i.options.autoclose){if(i.options.closeButton){r=jQuery('<span class="messi-closebtn"></span>');r.bind("click",function(){i.hide()});jQuery(".messi-content",this.messi).prepend(r)}}if(i.options.modal){i.modal=jQuery('<div class="messi-modal"></div>').css({opacity:i.options.modalOpacity,width:jQuery(document).width(),height:jQuery(document).height(),position:"fixed","z-index":i.options.zIndex+jQuery(".messi").length}).appendTo(document.body);i.modal.bind("click",function(){i.hide()});$(document).keypress(function(e){if(e.keyCode==27){i.hide()}})}if(i.options.show){i.show()}jQuery(window).bind("resize scroll",function(){i.resize()});if(i.options.autoclose!==null){setTimeout(function(){var e=jQuery.data(this,"value");var t=i.options.callback!==null?function(){i.options.callback(e)}:null;i.hide()},i.options.autoclose,this)}return i}e.prototype={options:{autoclose:null,buttons:[],callback:null,center:true,closeButton:true,height:"auto",title:null,titleClass:null,margin:0,modal:false,modalOpacity:.2,padding:"10px",position:{top:"0px",left:"0px"},show:true,unload:true,viewport:{top:"0px",left:"0px"},width:"500px",zIndex:99999},template:'<div class="messi"><div class="messi-box"><div class="messi-wrapper"><div class="messi-titlebox"><span class="messi-title"></span></div><div class="messi-content"></div><div class="messi-footbox"><div class="messi-actions"></div></div></div></div></div>',content:"<div></div>",visible:false,setContent:function(e){jQuery(".messi-content",this.messi).css({padding:this.options.padding,height:this.options.height}).empty().append(e)},center:function(){this.messi.css({top:(jQuery(window).height()-this.messi.height())/2,left:(jQuery(window).width()-this.messi.width())/2});return this},show:function(){if(this.visible){return}if(this.messi.parent().length===0){if(this.modal){this.modal.appendTo(document.body)}this.messi.appendTo(document.body)}if(this.modal){this.modal.show()}if(this.options.viewport!==e.prototype.options.viewport){this.messi.css({top:this.options.viewport.top,left:this.options.viewport.left})}if(this.options.position!==e.prototype.options.position){this.messi.css({top:this.options.position.top,left:this.options.position.left})}this.messi.css({zIndex:this.options.zIndex+jQuery(".messi").length}).show().animate({opacity:1},300);if(this.options.center){this.center()}else{this.enforceMargin()}this.visible=true},hide:function(){if(!this.visible){return}var e=this;this.messi.animate({opacity:0},300,function(){if(e.options.modal){e.modal.css({display:"none"})}e.messi.css({display:"none"});e.visible=false;if(e.options.unload){e.unload()}});return this},resize:function(){if(this.options.modal){jQuery(".messi-modal").css({width:jQuery(document).width(),height:jQuery(document).height()})}if(this.options.center){this.center()}else if(this.options.margin>0){this.enforceMargin()}},toggle:function(){this[this.visible?"hide":"show"]();return this},unload:function(){if(this.visible){this.hide()}jQuery(window).unbind("resize scroll");if(this.modal){this.modal.remove()}this.messi.remove()},enforceMargin:function(){if(!this.options.margin){return}var e=jQuery(window);var t=this.max(parseInt(this.options.viewport.left,10),parseInt(this.options.position.left,10));var n=this.max(parseInt(this.options.viewport.top,10),parseInt(this.options.position.top,10));if(t+this.messi.width()+this.options.margin>e.width()){t=e.width()-this.options.margin-this.messi.width()}if(n+this.messi.height()+this.options.margin>e.height()){n=e.height()-this.options.margin-this.messi.height()}if(t<this.options.margin){t=this.options.margin}if(n<this.options.margin){n=this.options.margin}this.messi.css({left:t,top:n})},jqueryize:function(){return this.messi},max:function(e,t){if(e>t){return e}else{return t}}};window.Messi=e})();jQuery.extend(Messi,{alert:function(e,t,n){var r=[{id:"ok",label:"OK",val:"OK"}];n=jQuery.extend({closeButton:false,buttons:r,callback:function(){}},n||{},{show:true,unload:true,callback:t});return new Messi(e,n)},ask:function(e,t,n){var r=[{id:"yes",label:"Yes",val:"Y","class":"btn-success"},{id:"no",label:"No",val:"N","class":"btn-danger"}];n=jQuery.extend({closeButton:false,modal:true,buttons:r,callback:function(){}},n||{},{show:true,unload:true,callback:t});return new Messi(e,n)},img:function(e,t){var n=new Image;jQuery(n).load(function(){var e={width:jQuery(window).width()-50,height:jQuery(window).height()-50};var r=this.width>e.width||this.height>e.height?Math.min(e.width/this.width,e.height/this.height):1;jQuery(n).css({width:this.width*r,height:this.height*r});t=jQuery.extend({show:true,unload:true,closeButton:true,width:this.width*r,height:this.height*r,padding:0},t||{});new Messi(n,t)}).error(function(){if(typeof window.console==="object"){console.log("Error loading "+e)}}).attr("src",e)},load:function(e,t){t=jQuery.extend({show:true,unload:true,params:{}},t||{});var n={url:e,data:t.params,dataType:"html",cache:false,error:function(e,t,n){if(typeof window.console==="object"){console.log(e.responseText)}},success:function(e){new Messi(e,t)}};jQuery.ajax(n)}})